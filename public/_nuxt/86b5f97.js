(window.webpackJsonp=window.webpackJsonp||[]).push([[54,20],{375:function(t,e,r){"use strict";var n=r(2),o=r(24),c=r(13),d=r(9),path=r(247),l=r(6),h=r(128),f=r(15),v=r(248),m=r(53),x=r(99),w=r(246),y=r(3),C=r(100).f,_=r(45).f,k=r(21).f,O=r(377),j=r(378).trim,I="Number",E=d[I],N=path[I],M=E.prototype,L=d.TypeError,S=l("".slice),z=l("".charCodeAt),A=function(t){var e=w(t,"number");return"bigint"==typeof e?e:D(e)},D=function(t){var e,r,n,o,c,d,l,code,h=w(t,"number");if(x(h))throw L("Cannot convert a Symbol value to a number");if("string"==typeof h&&h.length>2)if(h=j(h),43===(e=z(h,0))||45===e){if(88===(r=z(h,2))||120===r)return NaN}else if(48===e){switch(z(h,1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+h}for(d=(c=S(h,2)).length,l=0;l<d;l++)if((code=z(c,l))<48||code>o)return NaN;return parseInt(c,n)}return+h},R=h(I,!E(" 0o1")||!E("0b1")||E("+0x1")),P=function(t){return m(M,t)&&y((function(){O(t)}))},T=function(t){var e=arguments.length<1?0:E(A(t));return P(this)?v(Object(e),this,T):e};T.prototype=M,R&&!o&&(M.constructor=T),n({global:!0,constructor:!0,wrap:!0,forced:R},{Number:T});var $=function(t,source){for(var e,r=c?C(source):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),n=0;r.length>n;n++)f(source,e=r[n])&&!f(t,e)&&k(t,e,_(source,e))};o&&N&&$(path[I],N),(R||o)&&$(path[I],E)},377:function(t,e,r){var n=r(6);t.exports=n(1..valueOf)},378:function(t,e,r){var n=r(6),o=r(36),c=r(17),d=r(379),l=n("".replace),h="["+d+"]",f=RegExp("^"+h+h+"*"),v=RegExp(h+h+"*$"),m=function(t){return function(e){var r=c(o(e));return 1&t&&(r=l(r,f,"")),2&t&&(r=l(r,v,"")),r}};t.exports={start:m(1),end:m(2),trim:m(3)}},379:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},525:function(t,e,r){"use strict";r.r(e);r(375);var n={name:"MagnifierIcon",props:{size:{type:Number,default:24}}},o=r(34),component=Object(o.a)(n,(function(){var t=this,e=t._self._c;return e("svg",{attrs:{width:t.size,height:t.size,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M10 18C11.775 17.9996 13.4988 17.4054 14.897 16.312L19.293 20.708L20.707 19.294L16.311 14.898C17.405 13.4997 17.9996 11.7754 18 10C18 5.589 14.411 2 10 2C5.589 2 2 5.589 2 10C2 14.411 5.589 18 10 18ZM10 4C13.309 4 16 6.691 16 10C16 13.309 13.309 16 10 16C6.691 16 4 13.309 4 10C4 6.691 6.691 4 10 4Z",fill:"#828282"}}),t._v(" "),e("path",{attrs:{d:"M11.4118 8.58511C11.7908 8.96511 11.9998 9.46711 11.9998 9.99911H13.9998C14.0007 9.47354 13.8974 8.953 13.6959 8.46759C13.4944 7.98219 13.1987 7.54153 12.8258 7.17111C11.3118 5.65911 8.68683 5.65911 7.17383 7.17111L8.58583 8.58711C9.34583 7.82911 10.6558 7.83111 11.4118 8.58511Z",fill:"#828282"}})])}),[],!1,null,null,null);e.default=component.exports},556:function(t,e,r){var content=r(613);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(98).default)("981b0702",content,!0,{sourceMap:!1})},611:function(t,e,r){t.exports=r.p+"img/empty-profile.49dc1c3.png"},612:function(t,e,r){"use strict";r(556)},613:function(t,e,r){var n=r(97)((function(i){return i[1]}));n.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Roboto&display=swap);"]),n.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Open+Sans&display=swap);"]),n.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Alata&display=swap);"]),n.push([t.i,'.container[data-v-02ac8442]{background:#fff;margin:0 auto;font-size:0;font-family:"Roboto",sans-serif;border-radius:5px;overflow:hidden;border:#dcdcdc;box-shadow:0 2px 4px #dcdcdc}aside[data-v-02ac8442]{width:25%;height:100%;background-color:#fff}aside[data-v-02ac8442],main[data-v-02ac8442]{display:inline-block;font-size:15px;vertical-align:top}main[data-v-02ac8442]{width:75%}aside header[data-v-02ac8442]{padding:30px 20px}aside div input[data-v-02ac8442]{width:100%;height:35px;line-height:50px;padding:0 20px;background-color:#fff;border:none;border-radius:3px;color:#828282}aside div input[data-v-02ac8442]::-moz-placeholder{color:#000;font-family:"Open Sans",sans-serif}aside div input[data-v-02ac8442]::placeholder{color:#000;font-family:"Open Sans",sans-serif}aside ul[data-v-02ac8442]{padding-left:0;margin:0;list-style-type:none;overflow-y:auto;height:400px}aside li[data-v-02ac8442]{cursor:pointer;padding:10px 0;display:flex;align-items:center}aside li[data-v-02ac8442]:hover{background-color:#fde9d0;color:#000}h2[data-v-02ac8442],h3[data-v-02ac8442]{margin:0}aside li img[data-v-02ac8442]{border-radius:50%;width:50px;margin-left:5%}aside li div[data-v-02ac8442]{display:inline-block;vertical-align:top}aside li h2[data-v-02ac8442]{font-size:15px;font-weight:600;font-family:"Alata",sans-serif;margin-bottom:5px}aside li h3[data-v-02ac8442]{font-size:12px;font-weight:400}.status[data-v-02ac8442]{width:8px;height:8px;border-radius:50%;display:inline-block;margin-right:7px}.orange[data-v-02ac8442]{background-color:#ff725d}main header[data-v-02ac8442]{height:80px;width:100%;display:flex;justify-content:space-between;padding:10px 20px 10px 40px;box-shadow:1.5px 4px 4px #dcdcdc}main header img[data-v-02ac8442]:first-child{border-radius:50%}main header img[data-v-02ac8442]:last-child{width:24px;margin-top:8px}main header h2[data-v-02ac8442]{font-size:17px;font-family:"Alata",sans-serif;font-weight:600;margin-bottom:5px}main header h3[data-v-02ac8442]{font-size:14px;font-weight:400;color:#7e818a}#chat[data-v-02ac8442]{padding-left:0;margin:0;list-style-type:none;overflow-y:scroll;height:400px;border-top:2px solid #fff;border-bottom:2px solid #fff}#chat li[data-v-02ac8442]{padding:10px 30px}#chat h2[data-v-02ac8442]{font-family:"Alata",sans-serif;font-size:16px;font-weight:500}#chat h2[data-v-02ac8442],#chat h3[data-v-02ac8442]{display:inline-block}#chat h3[data-v-02ac8442]{color:#bbb;font-size:13px;font-weight:400}#chat .entete[data-v-02ac8442]{margin-bottom:10px}#chat .message[data-v-02ac8442]{padding:7px 17px;line-height:25px;max-width:90%;display:inline-block;text-align:left;font-family:"Open Sans",sans-serif;border-radius:5px;box-shadow:3px 4px 4px #dcdcdc}#chat .me[data-v-02ac8442]{text-align:right;position:relative}#chat .you .message[data-v-02ac8442]{background-color:#fde9d0;color:#000}#chat .me .message[data-v-02ac8442]{background-color:#f7931e;color:#fff}#chat .triangle[data-v-02ac8442]{width:0;height:0;border-style:solid;border-width:0 10px 10px}#chat .you .triangle[data-v-02ac8442]{border-color:transparent transparent #fde9d0;margin-left:15px}#chat .me .triangle[data-v-02ac8442]{border-color:transparent transparent #f7931e;position:absolute;right:4.5%;top:39.5%}main footer[data-v-02ac8442]{display:flex;gap:1;padding:20px 30px 20px 20px}main footer input[data-v-02ac8442]{resize:none;display:block;width:100%;height:36px;padding:4px 7px;border-radius:3px;font-size:13px}.title[data-v-02ac8442]{font-size:22px;font-weight:700;color:#000;margin-bottom:20px}main footer input[data-v-02ac8442]::-moz-placeholder{color:#ddd}main footer input[data-v-02ac8442]::placeholder{color:#ddd}main footer img[data-v-02ac8442]{height:30px;cursor:pointer}main footer button[data-v-02ac8442]{height:-moz-fit-content;height:fit-content;text-decoration:none;text-transform:uppercase;font-weight:700;padding:6px 15px}[data-v-02ac8442]::-webkit-scrollbar{width:10px;height:16px}[data-v-02ac8442]::-webkit-scrollbar-track{border-radius:100vh;background:#edf2f7}[data-v-02ac8442]::-webkit-scrollbar-thumb{background:#cbd5e0;border-radius:100vh;border:2px solid #edf2f7}[data-v-02ac8442]::-webkit-scrollbar-thumb:hover{background:#a0aec0}',""]),n.locals={},t.exports=n},642:function(t,e,r){"use strict";r.r(e);r(38),r(37),r(27),r(35),r(12),r(46),r(25),r(47);var n=r(11),o=r(18),c=(r(48),r(77),r(61),r(28)),d=r(159),l=r(611),h=r.n(l);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={components:{Magnifier:r(525).default},name:"Chat",data:function(){return{activechat:{image:"",name:""},textchat:""}},computed:v(v({},Object(c.c)("auth",["getUsername","getClassId"])),Object(c.c)("chat",["getContactList","chatList"])),watch:{chatList:function(){var t=this;setTimeout((function(){t.scrollDown()}),50)}},methods:v(v(v({},Object(c.b)("loading",["showLoading","hideLoading"])),Object(c.b)("chat",["addContact","sendMessages","setChatFirst","setActiveContact"])),{},{sendMessage:function(){var t=this;if(this.textchat){var e={senderName:this.getUsername,message:this.textchat,date:new Date,status:"MESSAGE"};this.postMessage(e),this.sendMessages(e),this.textchat="",setTimeout((function(){t.scrollDown()}),100)}},selectedContactChat:function(t){this.setActiveContact(t),this.scrollDown(),this.activechat=this.getContactList[t]},fetchChat:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,data,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios((new d.a).getData({url:"chat"}));case 3:r=e.sent,data=r.data,t.setChatFirst(data.data.map((function(e){return v(v({},e),{},{me:e.senderName===t.getUsername})}))),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),n=(new d.b).manageError(e.t0),t.$toast.show((null==n?void 0:n.error)||n.message,{position:"top-center",type:"error",duration:5e3,theme:"bubble",singleton:!0});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},scrollDown:function(){var t=this;this.$nextTick((function(){try{var e=t.chatList.length;if(e>0){var r=e-1;document.getElementById("m-"+r).scrollIntoView({behavior:"smooth",block:"end"})}}catch(t){}}))},postMessage:function(data){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=v(v({},data),{},{schoolId:t.getClassId}),e.next=4,t.$axios((new d.a).postData({url:"chat/send",data:r}));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),n=(new d.b).manageError(e.t0),t.$toast.show((null==n?void 0:n.error)||n.message,{position:"top-center",type:"error",duration:5e3,theme:"bubble",singleton:!0});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))()},fetchSchool:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,data,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios((new d.a).getData({url:"school/"+t.getClassId}));case 3:r=e.sent,data=r.data,t.addContact({image:data.data.avatarUrl?data.data.avatarUrl:h.a,name:data.data.name,active:!0}),t.activechat=t.getContactList[1],e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),n=(new d.b).manageError(e.t0),t.$toast.show((null==n?void 0:n.error)||n.message,{position:"top-center",type:"error",duration:5e3,theme:"bubble",singleton:!0});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()}}),mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.showLoading(),e.next=3,t.fetchChat();case 3:return e.next=5,t.fetchSchool();case 5:t.scrollDown(),t.hideLoading(),t.$emit("no-footer");case 8:case"end":return e.stop()}}),e)})))()}},x=(r(612),r(34)),component=Object(x.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex justify-center items-center pt-[5.85%]",staticStyle:{height:"100vh"}},[e("div",{staticClass:"container w-11/12"},[e("aside",{staticClass:"border-r w-2/4"},[e("header",{staticClass:"border-b"},[e("h1",{staticClass:"title"},[t._v("Chat (BETA)")]),t._v(" "),e("div",{staticClass:"box-input flex gap-x-3 border rounded-lg px-2 py-1"},[e("input",{attrs:{type:"text",placeholder:"Search"}}),t._v(" "),e("span",{staticClass:"flex items-center"},[e("Magnifier")],1)])]),t._v(" "),e("ul",t._l(t.getContactList,(function(data,r){return e("li",{key:r,staticClass:"border-b gap-x-3",class:data.active?"bg-[#f7931e] text-white":"bg-transparent text-black",on:{click:function(e){return t.selectedContactChat(r)}}},[e("img",{attrs:{src:data.image,alt:"Profile Picture"}}),t._v(" "),e("div",[e("h2",{staticClass:"truncate"},[t._v(t._s(data.name))])])])})),0)]),t._v(" "),e("main",[e("header",[e("div",{staticClass:"flex gap-x-5 w-2/4"},[e("img",{attrs:{src:t.activechat.image,alt:"Image Active"}}),t._v(" "),e("div",{staticClass:"flex items-center"},[e("h2",[t._v(t._s(t.activechat.name))])])]),t._v(" "),t.activechat.notcomment?e("div",[e("img",{attrs:{src:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/1940306/ico_star.png",alt:""}})]):t._e()]),t._v(" "),t.chatList.length&&!t.activechat.notcomment?e("ul",{ref:"scrollToMe",attrs:{id:"chat"}},t._l(t.chatList,(function(data,r){return e("li",{key:r,class:data.me?"me":"you",attrs:{id:"m-".concat(r)}},[e("div",{staticClass:"entete"},[e("h2",[t._v(t._s(data.senderName))]),t._v(" "),e("h3",[t._v(t._s(new Date(data.date)))])]),t._v(" "),e("div",{staticClass:"triangle"}),t._v(" "),e("div",{staticClass:"message"},[t._v("\n            "+t._s(data.message)+"\n          ")])])})),0):e("div",{staticClass:"flex justify-center items-center font-bold text-xl",attrs:{id:"chat"}},[e("h1",[t._v("Belum ada Chat")])]),t._v(" "),t.activechat.notcomment?t._e():e("footer",{staticClass:"border-t flex justify-center items-center gap-x-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.textchat,expression:"textchat"}],staticClass:"border focus:ring-0",attrs:{placeholder:"Type your message"},domProps:{value:t.textchat},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendMessage.apply(null,arguments)},input:function(e){e.target.composing||(t.textchat=e.target.value)}}}),t._v(" "),e("button",{class:"border border-transparent rounded-lg text-white transition duration-300 hover:transition hover:duration-300 focus:outline-none focus:border-[#CC6633] ".concat(t.textchat?"bg-[#CC6633] cursor-pointer":"bg-[#CC6633]/75 cursor-not-allowed"),on:{click:t.sendMessage}},[t._v("\n          Send\n        ")])])])])])}),[],!1,null,"02ac8442",null);e.default=component.exports}}]);